# ğŸ³ KDS å»šæˆ¿é¡¯ç¤ºç³»çµ± - çœŸå¯¦æ•¸æ“šä¸²æ¥ TODO æ¸…å–®

## ğŸ“Š æ•¸æ“šåˆ†æçµæœ

### æ•¸æ“šåº«çµæ§‹åˆ†æ
- **Orders è¡¨**: 41 å€‹æ¬„ä½ï¼ŒåŒ…å«å®Œæ•´çš„è¨‚å–®ç”Ÿå‘½é€±æœŸ
- **Order Items è¡¨**: 24 å€‹æ¬„ä½ï¼ŒåŒ…å«é¤é»ç‹€æ…‹å’Œæ™‚é–“è¿½è¹¤
- **ç¾æœ‰æ•¸æ“š**: 15 ç­†è¨‚å–® (2 ç­† pending, 13 ç­† completed)

## ğŸš¨ é—œéµå•é¡Œèˆ‡å¾…ä¿®å¾©åŠŸèƒ½

### 1. **æ•¸æ“šæºå•é¡Œ (é«˜å„ªå…ˆç´š)**
- [ ] **æ›¿æ›æ¨¡æ“¬æ•¸æ“š**: ç›®å‰ `kds-store.ts` ä½¿ç”¨ `mockOrders`
- [ ] **Supabase èªè­‰**: éœ€è¦ä½¿ç”¨ç®¡ç†è€…æ¬Šé™è®€å–æ‰€æœ‰é¤å»³è¨‚å–®
- [ ] **å¯¦æ™‚æ•¸æ“šåŒæ­¥**: å¯¦ç¾ Supabase realtime subscription

### 2. **æ•¸æ“šçµæ§‹ä¸åŒ¹é… (é«˜å„ªå…ˆç´š)**
- [ ] **KDSOrder ä»‹é¢æ›´æ–°**: å°é½Šå¯¦éš›æ•¸æ“šåº«æ¬„ä½
  - ç¼ºå°‘: `order_type`, `party_size`, `ordered_at`, `confirmed_at` ç­‰
  - æ™‚é–“æ¬„ä½: `preparation_started_at`, `ready_at`, `served_at`
  - AI åŠŸèƒ½: `ai_estimated_prep_time`, `ai_recommendations`
- [ ] **KDSMenuItem ä»‹é¢æ›´æ–°**: å°é½Š order_items è¡¨
  - æ·»åŠ : `kitchen_station`, `priority_level`, `quality_checked`
  - æ™‚é–“è¿½è¹¤: `preparation_started_at`, `ready_at`, `served_at`

### 3. **æ ¸å¿ƒåŠŸèƒ½å¯¦ç¾ (é«˜å„ªå…ˆç´š)**

#### A. è¨‚å–®ç‹€æ…‹ç®¡ç†
```typescript
// ç›®å‰ç‹€æ…‹: ä½¿ç”¨æ¨¡æ“¬æ•¸æ“š
// éœ€è¦å¯¦ç¾:
- [ ] updateOrderStatus() - æ›´æ–°è¨‚å–®ç‹€æ…‹åˆ°æ•¸æ“šåº«
- [ ] updateMenuItemStatus() - æ›´æ–°é¤é»é …ç›®ç‹€æ…‹
- [ ] ç‹€æ…‹è®Šæ›´æ™‚è‡ªå‹•æ›´æ–°æ™‚é–“æˆ³è¨˜
  - confirmed_at, preparation_started_at, ready_at, served_at
```

#### B. å¯¦æ™‚æ•¸æ“šè¼‰å…¥
```typescript
// ç›®å‰ç‹€æ…‹: fetchOrders() ä½¿ç”¨ setTimeout æ¨¡æ“¬
// éœ€è¦å¯¦ç¾:
- [ ] çœŸå¯¦ Supabase æŸ¥è©¢
- [ ] å¤šé¤å»³æ•¸æ“šéæ¿¾ (åŸºæ–¼ç•¶å‰ç”¨æˆ¶æ¬Šé™)
- [ ] è¨‚å–®é …ç›®é—œè¯æŸ¥è©¢ (join order_items)
- [ ] å¯¦æ™‚è¨‚é–± (realtime subscription)
```

### 4. **ç”¨æˆ¶ä»‹é¢å•é¡Œ (ä¸­å„ªå…ˆç´š)**

#### A. æ•¸æ“šé¡¯ç¤ºéŒ¯èª¤
- [ ] **æ™‚é–“é¡¯ç¤º**: ç›®å‰é¡¯ç¤ºæ¨¡æ“¬æ™‚é–“ï¼Œéœ€è¦ä½¿ç”¨çœŸå¯¦ `ordered_at`
- [ ] **æ¡Œè™Ÿé¡¯ç¤º**: ç¢ºä¿ `table_number` æ­£ç¢ºé¡¯ç¤º
- [ ] **é¤é»é …ç›®**: é¡¯ç¤ºçœŸå¯¦çš„ç”¢å“åç¨±å’Œæ•¸é‡

#### B. ç‹€æ…‹æ“ä½œ
- [ ] **è¨‚å–®ç¢ºèª**: å¯¦ç¾ pending â†’ confirmed ç‹€æ…‹åˆ‡æ›
- [ ] **é–‹å§‹è£½ä½œ**: confirmed â†’ preparing + è¨˜éŒ„ preparation_started_at
- [ ] **å®Œæˆè£½ä½œ**: preparing â†’ ready + è¨˜éŒ„ ready_at
- [ ] **é€é¤å®Œæˆ**: ready â†’ served + è¨˜éŒ„ served_at

### 5. **é€²éšåŠŸèƒ½ (ä½å„ªå…ˆç´š)**

#### A. AI åŠŸèƒ½é›†æˆ
- [ ] **é ä¼°æ™‚é–“**: ä½¿ç”¨ `ai_estimated_prep_time` 
- [ ] **æ•ˆç‡è©•åˆ†**: é¡¯ç¤º `ai_efficiency_score`
- [ ] **æ™ºèƒ½å»ºè­°**: å¯¦ç¾ `ai_recommendations` åŠŸèƒ½

#### B. å»šæˆ¿å·¥ä½œæµç¨‹
- [ ] **å»šæˆ¿åˆ†å€**: ä½¿ç”¨ `kitchen_station` åˆ†é…å·¥ä½œ
- [ ] **å„ªå…ˆç´šç®¡ç†**: åŸºæ–¼ `priority_level` æ’åº
- [ ] **å“è³ªæª¢æŸ¥**: å¯¦ç¾ `quality_checked` åŠŸèƒ½

## ğŸ”§ æŠ€è¡“å¯¦ç¾è¨ˆåŠƒ

### Phase 1: åŸºç¤æ•¸æ“šä¸²æ¥ (ç¬¬ä¸€å‘¨)
1. **ä¿®å¾© kds-store.ts**
   - å¯¦ç¾çœŸå¯¦çš„ fetchOrders()
   - æ·»åŠ  Supabase èªè­‰
   - æ›´æ–°ä»‹é¢å®šç¾©

2. **æ¸¬è©¦çœŸå¯¦æ•¸æ“šæµ**
   - ç¢ºä¿è¨‚å–®æ­£ç¢ºè¼‰å…¥
   - é©—è­‰ç‹€æ…‹æ›´æ–°åŠŸèƒ½

### Phase 2: æ ¸å¿ƒåŠŸèƒ½å¯¦ç¾ (ç¬¬äºŒå‘¨)
1. **ç‹€æ…‹ç®¡ç†ç³»çµ±**
   - å¯¦ç¾å®Œæ•´çš„è¨‚å–®ç”Ÿå‘½é€±æœŸ
   - æ·»åŠ æ™‚é–“æˆ³è¨˜è¿½è¹¤

2. **å¯¦æ™‚æ›´æ–°**
   - Supabase realtime subscription
   - è‡ªå‹•åˆ·æ–°æ©Ÿåˆ¶

### Phase 3: ç”¨æˆ¶é«”é©—å„ªåŒ– (ç¬¬ä¸‰å‘¨)
1. **ç•Œé¢å®Œå–„**
   - çœŸå¯¦æ•¸æ“šé¡¯ç¤º
   - äº’å‹•åŠŸèƒ½æ¸¬è©¦

2. **æ€§èƒ½å„ªåŒ–**
   - æ•¸æ“šè¼‰å…¥å„ªåŒ–
   - ç‹€æ…‹æ›´æ–°æ•ˆèƒ½

## ğŸ¯ ç«‹å³é–‹å§‹é …ç›®

### å„ªå…ˆä¿®å¾©æ¸…å–®:
1. âœ… **æ•¸æ“šåº«çµæ§‹åˆ†æ** - å·²å®Œæˆ
2. ğŸ”„ **æ›´æ–° KDS é¡å‹å®šç¾©** - é€²è¡Œä¸­
3. ğŸ”„ **å¯¦ç¾çœŸå¯¦ fetchOrders()** - é€²è¡Œä¸­  
4. ğŸ”„ **ä¿®å¾©ç‹€æ…‹æ›´æ–°åŠŸèƒ½** - å¾…é–‹å§‹
5. ğŸ”„ **æ¸¬è©¦å®Œæ•´å·¥ä½œæµç¨‹** - å¾…é–‹å§‹

---

**ç¸½çµ**: KDS ç³»çµ±ç›®å‰æœ‰å®Œæ•´çš„ UI æ¡†æ¶ï¼Œä½†æ ¸å¿ƒæ•¸æ“šé‚è¼¯ä»ä½¿ç”¨æ¨¡æ“¬æ•¸æ“šã€‚éœ€è¦ç³»çµ±æ€§åœ°æ›¿æ›ç‚ºçœŸå¯¦ Supabase æ•¸æ“šï¼Œä¸¦ç¢ºä¿æ‰€æœ‰ç‹€æ…‹ç®¡ç†åŠŸèƒ½æ­£å¸¸é‹ä½œã€‚
